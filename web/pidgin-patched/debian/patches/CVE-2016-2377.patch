# HG changeset patch
# User Andrew Victor <andrew.victor@mxit.com>
# Date 1464976918 18000
# Branch release-2.x.y
# Node ID 0f94ef13ab373f4da4a723377d792a296145efdb
# Parent  5e5e84e8a79890e580158ac2eae073d7394e93b7
Fix for TALOS-CAN-0119

diff --git a/libpurple/protocols/mxit/http.c b/libpurple/protocols/mxit/http.c
--- a/libpurple/protocols/mxit/http.c
+++ b/libpurple/protocols/mxit/http.c
@@ -97,9 +97,9 @@
 {
 	struct MXitSession*	session		= (struct MXitSession*) user_data;
 	char				buf[256];
-	int					buflen;
+	unsigned int		buflen;
 	char*				body;
-	int					bodylen;
+	unsigned int		bodylen;
 	char*				ch;
 	int					len;
 	char*				tmp;
@@ -182,7 +182,7 @@
 			goto done;
 		}
 		tmp = g_strndup( ch, tmp - ch );
-		bodylen = atoi( tmp );
+		bodylen = strtoul( tmp, NULL, 10 );
 		g_free( tmp );
 		tmp = NULL;
 
